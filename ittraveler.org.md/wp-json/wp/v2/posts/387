{"id":387,"date":"2015-05-06T22:23:37","date_gmt":"2015-05-06T19:23:37","guid":{"rendered":"http:\/\/ittraveler.org\/?p=387"},"modified":"2015-05-06T22:23:37","modified_gmt":"2015-05-06T19:23:37","slug":"ustanovka-asterisk-lts-na-ubuntu","status":"publish","type":"post","link":"http:\/\/ittraveler.org\/ustanovka-asterisk-lts-na-ubuntu\/","title":{"rendered":"\u0423\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0430 Asterisk LTS \u043d\u0430 Ubuntu."},"content":{"rendered":"<p>\u0420\u0430\u0441\u0441\u043c\u043e\u0442\u0440\u0438\u043c \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0443\u00a0Asterisk LTS \u043d\u0430 Ubuntu.<!--more--><\/p>\n<p>\u0421\u043e\u0437\u0434\u0430\u0435\u043c \u0432\u0440\u0435\u043c\u0435\u043d\u043d\u044b\u0439 \u043a\u0430\u0442\u0430\u043b\u043e\u0433 \u0434\u043b\u044f \u0444\u0430\u0439\u043b\u043e\u0432 Asterisk \u0438 \u043f\u0435\u0440\u0435\u0445\u043e\u0434\u0438\u043c \u0432 \u043d\u0435\u0433\u043e<\/p>\n<pre class=\"lang:zsh decode:true\">mkdir \/root\/asteriskDIR<\/pre>\n<pre class=\"lang:default decode:true\">cd \/root\/asteriskDIR<\/pre>\n<p>&nbsp;<\/p>\n<p>\u0421\u043a\u0430\u0447\u0438\u0432\u0430\u0435\u043c LTS \u0432\u0435\u0440\u0441\u0438\u044e Asterisk \u0441 \u043e\u0444 \u0441\u0430\u0439\u0442\u0430.<\/p>\n<pre class=\"lang:default decode:true\">wget http:\/\/downloads.asterisk.org\/pub\/telephony\/certified-asterisk\/certified-asterisk-1.8.15-current.tar.gz<\/pre>\n<p>&nbsp;<\/p>\n<p>\u0423\u0441\u0442\u0430\u043d\u0430\u0432\u043b\u0438\u0432\u0430\u0435\u043c \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u044b\u0435 \u043a\u043e\u043c\u043f\u043e\u043d\u0435\u043d\u0442\u044b \u0434\u043b\u044f \u0441\u0431\u043e\u0440\u043a\u0438 Asterisk<\/p>\n<pre class=\"lang:default decode:true  \">apt-get install libncurses5-dev openssl libssl-dev zlib1g zlib1g-dev mpg123 linux-headers-`uname -r` build-essential mysql-server libmysqlclient15-dev php5 php5-cli php5-mysql php5-gd php-pear apache2 curl sox bison flex cpp g++ gcc make libauthen-pam-perl libio-pty-perl libnet-ssleay-perl libxml2 libxml2-dev libtiff4 libtiff4-dev libaudiofile-dev subversion libsqlite3-dev<\/pre>\n<p>&nbsp;<\/p>\n<p>\u0421\u043a\u0430\u0447\u0438\u0432\u0430\u0435\u043c \u043c\u043e\u0434\u0443\u043b\u044c dadhi \u0434\u043b\u044f Asterisk<\/p>\n<pre class=\"lang:default decode:true\">wget http:\/\/downloads.asterisk.org\/pub\/telephony\/dahdi-linux-complete\/dahdi-linux-complete-current.tar.gz<\/pre>\n<p>&nbsp;<\/p>\n<p>\u0420\u0430\u0441\u043f\u0430\u043a\u043e\u0432\u044b\u0432\u0430\u0435\u043c \u043c\u043e\u0434\u0443\u043b\u044c<\/p>\n<pre class=\"lang:default decode:true\">tar xzvf .\/dahdi-linux-complete-current.tar.gz<\/pre>\n<p>&nbsp;<\/p>\n<p>\u041f\u0435\u0440\u0435\u0445\u043e\u0434\u0438\u043c \u0432 \u043a\u0430\u0442\u0430\u043b\u043e\u0433 \u0441 \u043c\u043e\u0434\u0443\u043b\u0435\u043c<\/p>\n<pre class=\"lang:default decode:true\">cd dahdi-linux-complete-2.9.1.1+2.9.1<\/pre>\n<p>&nbsp;<\/p>\n<p>\u0423\u0441\u0442\u0430\u043d\u0430\u0432\u043b\u0438\u0432\u0430\u0435\u043c \u043c\u043e\u0434\u0443\u043b\u044c<\/p>\n<pre class=\"lang:default decode:true\">sudo make all<\/pre>\n<pre class=\"bottom-set:false lang:default decode:true\">sudo make install<\/pre>\n<pre class=\"top-set:false bottom-set:false lang:default decode:true\">sudo make config<\/pre>\n<p>&nbsp;<\/p>\n<p>\u041f\u0435\u0440\u0435\u0445\u043e\u0434\u0438\u043c \u0432 \u043a\u0430\u0442\u0430\u043b\u043e\u0433 \u0441 \u0432\u0440\u0435\u043c\u0435\u043d\u043d\u044b\u043c\u0438 \u0444\u0430\u0439\u043b\u0430\u043c\u0438 Asterisk<\/p>\n<pre class=\"top-set:false bottom-set:false lang:default decode:true\">cd \/root\/asteriskDIR<\/pre>\n<p>&nbsp;<\/p>\n<p>\u0421\u043a\u0430\u0447\u0438\u0432\u0430\u0435\u043c \u0431\u0438\u0431\u043b\u0438\u043e\u0442\u0435\u043a\u0443 LIB PRI<\/p>\n<pre class=\"top-set:false bottom-set:false lang:default decode:true\">wget http:\/\/downloads.asterisk.org\/pub\/telephony\/libpri\/libpri-1.4-current.tar.gz<\/pre>\n<p>&nbsp;<\/p>\n<p>\u0420\u0430\u0441\u043f\u0430\u043a\u043e\u0432\u044b\u0432\u0430\u0435\u043c \u0431\u0438\u0431\u043b\u0438\u043e\u0442\u0435\u043a\u0443<\/p>\n<pre class=\"top-set:false bottom-set:false lang:default decode:true\">tar xzvf .\/libpri-1.4-current.tar.gz<\/pre>\n<p>&nbsp;<\/p>\n<p>\u041f\u0435\u0440\u0435\u0445\u043e\u0434\u0438\u043c \u0432 \u043a\u0430\u0442\u0430\u043b\u043e\u0433 \u0441 \u0431\u0438\u0431\u043b\u0438\u043e\u0442\u0435\u043a\u043e\u0439<\/p>\n<pre class=\"top-set:false bottom-set:false lang:default decode:true\">cd .\/libpri-1.4.14\/<\/pre>\n<p>&nbsp;<\/p>\n<p>\u0423\u0441\u0442\u0430\u043d\u0430\u0432\u043b\u0438\u0432\u0430\u0435\u043c \u0431\u0438\u0431\u043b\u0438\u043e\u0442\u0435\u043a\u0443<\/p>\n<pre class=\"top-set:false bottom-set:false lang:default decode:true\">sudo make<\/pre>\n<pre class=\"top-set:false bottom-set:false lang:default decode:true\">sudo make install<\/pre>\n<p>&nbsp;<\/p>\n<p>\u041f\u0435\u0440\u0435\u0445\u043e\u0434\u0438\u043c \u0432 \u043a\u0430\u0442\u0430\u043b\u043e\u0433 \u0441 \u0432\u0440\u0435\u043c\u0435\u043d\u043d\u044b\u043c\u0438 \u0444\u0430\u0439\u043b\u0430\u043c\u0438 Asterisk<\/p>\n<pre class=\"top-set:false bottom-set:false lang:default decode:true\">cd \/root\/asteriskDIR<\/pre>\n<p>&nbsp;<\/p>\n<p>\u0421\u043a\u0430\u0447\u0438\u0432\u0430\u0435\u043c \u043c\u043e\u0434\u0443\u043b\u044c SpanDSP<\/p>\n<pre class=\"top-set:false bottom-set:false tab-size:0 lang:default decode:true\">wget http:\/\/www.soft-switch.org\/downloads\/spandsp\/spandsp-0.0.6pre21.tgz<\/pre>\n<p>&nbsp;<\/p>\n<p>\u0420\u0430\u0441\u043f\u0430\u043a\u043e\u0432\u044b\u0432\u0430\u0435\u043c \u043c\u043e\u0434\u0443\u043b\u044c<\/p>\n<pre class=\"top-set:false bottom-set:false lang:default decode:true\">tar xzvf .\/spandsp-0.0.6pre21.tgz<\/pre>\n<p>&nbsp;<\/p>\n<p>\u041f\u0435\u0440\u0435\u0445\u043e\u0434\u0438\u043c \u0432 \u043a\u0430\u0442\u0430\u043b\u043e\u0433 \u0441 \u043c\u043e\u0434\u0443\u043b\u0435\u043c<\/p>\n<pre class=\"top-set:false bottom-set:false lang:default decode:true\">cd .\/spandsp-0.0.6\/<\/pre>\n<p>&nbsp;<\/p>\n<p>\u0423\u0441\u0442\u0430\u043d\u0430\u0432\u043b\u0438\u0432\u0430\u0435\u043c \u043c\u043e\u0434\u0443\u043b\u044c<\/p>\n<pre class=\"lang:default decode:true\">.\/configure<\/pre>\n<pre class=\"lang:default decode:true\">sudo make<\/pre>\n<pre class=\"lang:default decode:true \">sudo make install<\/pre>\n<p>&nbsp;<\/p>\n<p>\u041f\u0435\u0440\u0435\u0445\u043e\u0434\u0438\u043c \u0432 \u043a\u0430\u0442\u0430\u043b\u043e\u0433 \u0441 \u0432\u0440\u0435\u043c\u0435\u043d\u043d\u044b\u043c\u0438 \u0444\u0430\u0439\u043b\u0430\u043c\u0438 Asterisk<\/p>\n<pre class=\"top-set:false bottom-set:false lang:default decode:true \">cd \/root\/asteriskDIR<\/pre>\n<p>&nbsp;<\/p>\n<p>\u0420\u0430\u0441\u043f\u0430\u043a\u043e\u0432\u044b\u0432\u0430\u0435\u043c \u0441\u043a\u0430\u0447\u0430\u043d\u043d\u044b\u0439 Asterisk<\/p>\n<pre class=\"top-set:false bottom-set:false lang:default decode:true \">tar xzvf .\/certified-asterisk-1.8.15-current.tar.gz<\/pre>\n<p>&nbsp;<\/p>\n<p>\u041f\u0435\u0440\u0435\u0445\u043e\u0434\u0438\u043c \u0432 \u043a\u0430\u0442\u0430\u043b\u043e\u0433 \u0441 \u0440\u0430\u0441\u043f\u0430\u043a\u043e\u0432\u0430\u043d\u043d\u044b\u043c \u0430\u0441\u0442\u0435\u0440\u0438\u0441\u043a\u043e\u043c<\/p>\n<pre class=\"top-set:false bottom-set:false lang:default decode:true \">cd .\/certified-asterisk-1.8.15-cert5\/<\/pre>\n<p>&nbsp;<\/p>\n<p>\u0417\u0430\u043f\u0443\u0441\u043a\u0430\u0435\u043c \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044e<\/p>\n<pre class=\"top-set:false bottom-set:false lang:default decode:true \">.\/configure<\/pre>\n<p>&nbsp;<\/p>\n<p>\u0417\u0430\u043f\u0443\u0441\u043a\u0430\u0435\u043c \u0432\u044b\u0431\u043e\u0440 \u043a\u043e\u043c\u043f\u043e\u043d\u0435\u043d\u0442\u043e\u0432<\/p>\n<pre class=\"top-set:false bottom-set:false lang:default decode:true \">sudo make menuselect<\/pre>\n<p>&nbsp;<\/p>\n<p>\u0415\u0441\u043b\u0438 \u0432\u044b \u0434\u0435\u043b\u0430\u0435\u0442\u0435 \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0443 \u043f\u043e ssh, \u0442\u043e \u043f\u0440\u0435\u0434\u0432\u0430\u0440\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u0434\u043e\u043b\u0436\u043d\u044b \u0443\u0431\u0435\u0434\u0438\u0442\u044c\u0441\u044f, \u0447\u0442\u043e \u0440\u0430\u0437\u043c\u0435\u0440 \u0442\u0435\u0440\u043c\u0438\u043d\u0430\u043b\u0430 \u0431\u043e\u043b\u044c\u0448\u0435, \u0447\u0435\u043c 80\u00d725.<\/p>\n<p>\u0417\u0434\u0435\u0441\u044c \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0432\u043a\u043b\u044e\u0447\u0438\u0442\u044c \u043d\u0443\u0436\u043d\u044b\u0435 \u043c\u043e\u0434\u0443\u043b\u0438 \u0434\u043b\u044f \u043a\u043e\u043c\u043f\u0438\u043b\u044f\u0446\u0438\u0438. \u041a \u043f\u0440\u0438\u043c\u0435\u0440\u0443, \u0432 \u0440\u0430\u0437\u0434\u0435\u043b\u0435 Add-ons \u043c\u044b \u0434\u043e\u043b\u0436\u043d\u044b \u0432\u043a\u043b\u044e\u0447\u0438\u0442\u044c \u043c\u043e\u0434\u0443\u043b\u0438 format_mp3, app_mysql, cdr_mysql, \u0442.\u043a. \u0434\u0430\u043b\u044c\u0448\u0435 \u043f\u043b\u0430\u043d\u0438\u0440\u0443\u0435\u0442\u0441\u044f \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0430 \u043f\u0430\u043d\u0435\u043b\u0438 \u0443\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u044f FreePBX.<\/p>\n<p>\u0412 \u0440\u0430\u0437\u0434\u0435\u043b\u0435 Core Sound Packages \u0432\u043a\u043b\u044e\u0447\u0430\u0435\u043c CORE-SOUNDS-EN-ALAW, CORE-SOUNDS-EN-GSM, CORE-SOUNDS-EN-G729, CORE-SOUNDS-RU-ALAW, CORE-SOUNDS-RU-GSM, CORE-SOUNDS-RU-G729.<\/p>\n<p>\u0414\u0430\u043b\u0435\u0435 \u0432 \u0440\u0430\u0437\u0434\u0435\u043b\u0435 Music On Hold File Packages \u0432\u043a\u043b\u044e\u0447\u0430\u0435\u043c \u043c\u043e\u0434\u0443\u043b\u044c MOH-OPSOUND-WAV \u043f\u0440\u043e\u0441\u0442\u043e \u0434\u043b\u044f \u0442\u043e\u0433\u043e, \u0447\u0442\u043e\u0431 \u043e\u043d \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u043b\u0441\u044f.<\/p>\n<p>\u041f\u043e\u0441\u043b\u0435 \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0438 \u044d\u0442\u0438 \u043c\u0435\u043b\u043e\u0434\u0438\u0438 \u043c\u043e\u0436\u043d\u043e \u0431\u0443\u0434\u0435\u0442 \u0437\u0430\u043c\u0435\u043d\u0438\u0442\u044c \u043d\u0430 \u0441\u0432\u043e\u0438. \u041f\u043e\u0441\u043b\u0435\u0434\u043d\u0438\u0439 \u0440\u0430\u0437\u0434\u0435\u043b Extras Sound Packages.<\/p>\n<p>\u0422\u0443\u0442 \u043e\u043f\u044f\u0442\u044c \u0436\u0435 \u0432\u043a\u043b\u044e\u0447\u0430\u0435\u043c \u043c\u043e\u0434\u0443\u043b\u0438 \u0434\u043b\u044f \u0432\u044b\u0431\u0440\u0430\u043d\u043d\u044b\u0445 \u043a\u043e\u0434\u0435\u043a\u043e\u0432 ALAW, GSM \u0438 G729. \u0418\u0437 \u043a\u043e\u0440\u043d\u0435\u0432\u043e\u0433\u043e \u0440\u0430\u0437\u0434\u0435\u043b\u0430 \u043d\u0430\u0436\u0438\u043c\u0430\u0435\u043c Esc \u0438 \u0432\u0438\u0434\u0438\u043c, \u0447\u0442\u043e \u043d\u0430\u043c \u043f\u0440\u0435\u0434\u043b\u043e\u0436\u0438\u043b\u0438 \u0442\u0440\u0438 \u0432\u0430\u0440\u0438\u0430\u043d\u0442\u0430 \u0432\u044b\u0445\u043e\u0434\u0430. \u0416\u043c\u0435\u043c S \u0434\u043b\u044f \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u044f \u0441\u0434\u0435\u043b\u0430\u043d\u043d\u044b\u0445 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0439.<\/p>\n<p>&nbsp;<\/p>\n<p>\u0414\u043e\u0431\u0430\u0432\u043b\u044f\u0435\u043c \u0432 \u0444\u0430\u0439\u043b ~\/.subversion\/servers\u00a0 \u0432 \u0441\u0435\u043a\u0446\u0438\u044e global \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0435 \u0441\u0442\u0440\u043e\u043a\u0438 (\u0415\u0441\u043b\u0438 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u0442\u0441\u044f \u043f\u0440\u043e\u043a\u0441\u0438, \u0435\u0441\u043b\u0438 \u043f\u0440\u043e\u043a\u0441\u0438 \u043d\u0435 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u0442\u0441\u044f \u043f\u0440\u043e\u043f\u0443\u0441\u043a\u0430\u0435\u043c \u044d\u0442\u043e\u0442 \u0448\u0430\u0433):<\/p>\n<pre class=\"top-set:false bottom-set:false lang:zsh decode:true \">http-proxy-host=localhost\r\n\r\nhttp-proxy-port=3128<\/pre>\n<p>&nbsp;<\/p>\n<p>\u0417\u0430\u043f\u0443\u0441\u043a\u0430\u0435\u043c \u0441\u043a\u0440\u0438\u043f\u0442<\/p>\n<pre class=\"top-set:false bottom-set:false lang:default decode:true \">contrib\/scripts\/get_mp3_source.sh<\/pre>\n<p>&nbsp;<\/p>\n<p>\u0417\u0430\u043f\u0443\u0441\u043a\u0430\u0435\u043c \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0443 Asterisk<\/p>\n<pre class=\"top-set:false bottom-set:false lang:default decode:true\">sudo make install<\/pre>\n<pre class=\"top-set:false bottom-set:false lang:default decode:true\">sudo make samples<\/pre>\n<pre class=\"top-set:false bottom-set:false lang:default decode:true\">sudo make config<\/pre>\n<p>&nbsp;<\/p>\n<p>\u0417\u0430\u043f\u0443\u0441\u043a\u0430\u0435\u043c Asterisk<\/p>\n<pre class=\"top-set:false bottom-set:false lang:default decode:true \">sudo \/etc\/init.d\/asterisk start<\/pre>\n<p>&nbsp;<\/p>\n<p>\u0421\u043e\u0437\u0434\u0430\u0435\u043c \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u0439 \u0434\u043b\u044f Asterisk \u0438 \u0440\u0430\u0437\u0434\u0430\u0435\u043c \u0438\u043c \u043f\u0440\u0430\u0432\u0430<\/p>\n<pre class=\"top-set:false bottom-set:false lang:default decode:true\">sudo adduser --system --group --home \/var\/lib\/asterisk --no-create-home --gecos \"Asterisk PBX\" asterisk<\/pre>\n<pre class=\"top-set:false bottom-set:false lang:default decode:true\">sudo adduser asterisk dialout<\/pre>\n<pre class=\"lang:default decode:true\">sudo adduser asterisk audio<\/pre>\n<pre class=\"lang:default decode:true\">sudo adduser www-data asterisk<\/pre>\n<pre class=\"bottom-set:false lang:default decode:true \">sudo mkdir -p \/var\/run\/asterisk<\/pre>\n<p>&nbsp;<\/p>\n<p>\u0418\u0437\u043c\u0435\u043d\u0438\u043c \u043f\u0440\u0430\u0432\u0430 \u043d\u0430 \u043a\u0430\u0442\u0430\u043b\u043e\u0433\u0438 Asterisk.<\/p>\n<pre class=\"lang:default decode:true \">sudo chown -R asterisk:asterisk \/var\/lib\/asterisk\r\n\r\nsudo chown -R asterisk:asterisk \/var\/log\/asterisk\r\n\r\nsudo chown -R asterisk:asterisk \/var\/run\/asterisk\r\n\r\nsudo chown -R asterisk:asterisk \/var\/spool\/asterisk\r\n\r\nsudo chown -R asterisk:asterisk \/usr\/lib\/asterisk\r\n\r\nsudo chown -R asterisk:asterisk \/dev\/dahdi\r\n\r\nsudo chmod -R u=rwX,g=rX,o= \/var\/lib\/asterisk\r\n\r\nsudo chmod -R u=rwX,g=rX,o= \/var\/log\/asterisk\r\n\r\nsudo chmod -R u=rwX,g=rX,o= \/var\/run\/asterisk\r\n\r\nsudo chmod -R u=rwX,g=rX,o= \/var\/spool\/asterisk\r\n\r\nsudo chmod -R u=rwX,g=rX,o= \/usr\/lib\/asterisk\r\n\r\nsudo chmod -R u=rwX,g=rX,o= \/dev\/dahdi\r\n\r\nsudo chown -R root:asterisk \/etc\/asterisk\r\n\r\nsudo chmod -R u=rwX,g=rX,o= \/etc\/asterisk<\/pre>\n<p>&nbsp;<\/p>\n<p>\u0412 \u0444\u0430\u0439\u043b\u0435 \/etc\/default\/asterisk \u0440\u0430\u0441\u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0438\u0440\u0443\u0435\u043c \u0434\u0432\u0435 \u0441\u0442\u0440\u043e\u0447\u043a\u0438.<\/p>\n<pre class=\"lang:default decode:true\">AST_USER=\u00abasterisk\u00bb\r\n\r\nAST_GROUP=\u00abdialout\u00bb<\/pre>\n<p>&nbsp;<\/p>\n<p>\u042d\u0442\u043e \u043d\u0443\u0436\u043d\u043e \u0434\u043b\u044f \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u043e\u0433\u043e \u0437\u0430\u043f\u0443\u0441\u043a\u0430 \u0441\u043b\u0443\u0436\u0431 Asterisk<\/p>\n<p>\u041f\u0435\u0440\u0435\u0437\u0430\u043f\u0443\u0441\u043a\u0430\u0435\u043c Asterisk<\/p>\n<pre class=\"lang:default decode:true\">sudo \/etc\/init.d\/asterisk restart<\/pre>\n<p>&nbsp;<\/p>\n<p>\u041f\u0435\u0440\u0435\u0445\u043e\u0434\u0438\u043c \u0432 \u043a\u0430\u0442\u0430\u043b\u043e\u0433 \u0441 \u0432\u0440\u0435\u043c\u0435\u043d\u043d\u044b\u043c\u0438 \u0444\u0430\u0439\u043b\u0430\u043c\u0438 Asterisk<\/p>\n<pre class=\"lang:default decode:true \">cd \/root\/asteriskDIR<\/pre>\n<p>&nbsp;<\/p>\n<p style=\"text-align: center;\"><strong>\u0423\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0430 FreePBX<\/strong><\/p>\n<p>\u0423\u0441\u0442\u0430\u043d\u0430\u0432\u043b\u0438\u0432\u0430\u0435\u043c \u0442\u0430\u043a\u0438\u0435 \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u044b\u0435 \u043a\u043e\u043c\u043f\u043e\u043d\u0435\u043d\u0442\u044b \u043a\u0430\u043a \u0432\u0435\u0431 \u0441\u0435\u0440\u0432\u0435\u0440 Apache2 , \u0441\u0435\u0440\u0432\u0435\u0440 \u0431\u0430\u0437 \u0434\u0430\u043d\u043d\u044b\u0445 Mysql, PHP, \u0438 \u0431\u0438\u0431\u043b\u0438\u043e\u0442\u0435\u043a\u0438 \u0434\u043b\u044f \u043d\u0438\u0445<\/p>\n<pre class=\"lang:default decode:true \">sudo apt-get install libxml2 libxml2-dev libtiff4 libtiff4-dev lame apache2 mysql-server mysql-client php5 php-pear php5-mysql php5-gd openssl libssl-dev linux-source-3.2.0 perl bison libncurses5-dev libaudiofile-dev curl sox libcpan-mini-perl<\/pre>\n<p>&nbsp;<\/p>\n<p>\u0421\u043a\u0430\u0447\u0438\u0432\u0430\u0435\u043c \u043f\u0430\u043d\u0435\u043b\u044c \u0430\u0434\u043c\u0438\u043d\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f FreePBX<\/p>\n<pre class=\"lang:default decode:true\">wget http:\/\/mirror.freepbx.org\/freepbx-2.11.0.25.tgz<\/pre>\n<p>&nbsp;<\/p>\n<p>\u0420\u0430\u0441\u043f\u0430\u043a\u043e\u0432\u044b\u0432\u0430\u0435\u043c \u043f\u0430\u043d\u0435\u043b\u044c \u0430\u0434\u043c\u0438\u043d\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f<\/p>\n<pre class=\"lang:default decode:true \">tar xzvf .\/freepbx-2.11.0.25.tgz<\/pre>\n<p>&nbsp;<\/p>\n<p>\u041f\u0435\u0440\u0435\u0445\u043e\u0434\u0438\u043c \u0432 \u0440\u0430\u0441\u043f\u0430\u043a\u043e\u0432\u0430\u043d\u043d\u044b\u0439 \u043a\u0430\u0442\u0430\u043b\u043e\u0433<\/p>\n<pre class=\"lang:default decode:true \">cd .\/freepbx\/<\/pre>\n<p>&nbsp;<\/p>\n<p>\u041f\u043e\u0434\u043a\u043b\u044e\u0447\u0430\u0435\u043c\u0441\u044f \u043a \u0441\u0435\u0440\u0432\u0435\u0440\u0443 Mysql \u0438 \u0441\u043e\u0437\u0434\u0430\u0435\u043c \u0431\u0430\u0437\u044b \u0434\u0430\u043d\u043d\u044b\u0445<\/p>\n<pre class=\"lang:default decode:true \">mysql -u root \u2013p<\/pre>\n<p>&nbsp;<\/p>\n<p>\u0414\u0430\u043b\u0435\u0435 \u0432\u0432\u043e\u0434\u0438\u043c root \u043f\u0430\u0440\u043e\u043b\u044c<\/p>\n<p>\u0421\u043e\u0437\u0434\u0430\u0435\u043c \u0431\u0430\u0437\u044b \u0438 \u0440\u0430\u0437\u0434\u0430\u0435\u043c \u043f\u0440\u0438\u0432\u0438\u043b\u0435\u0433\u0438\u0438 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f\u043c<\/p>\n<pre class=\"lang:mysql decode:true\">mysql&gt; create database asterisk;<\/pre>\n<pre class=\"lang:mysql decode:true\">mysql&gt; create database asteriskcdrdb;<\/pre>\n<pre class=\"lang:mysql decode:true\">mysql&gt; GRANT ALL PRIVILEGES ON asterisk.* TO asteriskuser@localhost IDENTIFIED BY 'asterpass';<\/pre>\n<pre class=\"lang:mysql decode:true\">mysql&gt; GRANT ALL PRIVILEGES ON asteriskcdrdb.* TO asteriskuser@localhost IDENTIFIED BY 'asterpass';<\/pre>\n<pre class=\"lang:mysql decode:true\">mysql&gt; flush privileges;<\/pre>\n<pre class=\"lang:mysql decode:true\">mysql&gt; \\q<\/pre>\n<p>&nbsp;<\/p>\n<p>\u0418\u043c\u043f\u043e\u0440\u0442\u0438\u0440\u0443\u0435\u043c \u0431\u0430\u0437\u0443 \u0434\u0430\u043d\u043d\u044b\u0445 freepbx<\/p>\n<pre class=\"lang:mysql decode:true\">mysql -u root -p asterisk &lt; SQL\/newinstall.sql<\/pre>\n<pre class=\"lang:mysql decode:true\">mysql -u root -p asteriskcdrdb &lt; SQL\/cdr_mysql_table.sql<\/pre>\n<p>&nbsp;<\/p>\n<p>\u0414\u0430\u043b\u0435\u0435 \u0438\u0437\u043c\u0435\u043d\u044f\u0435\u043c \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f \u0438\u0437 \u043f\u043e\u0434 \u043a\u043e\u0442\u043e\u0440\u043e\u0433\u043e \u0437\u0430\u043f\u0443\u0441\u043a\u0430\u0435\u0442\u0441\u044f \u0432\u0435\u0431 \u0441\u0435\u0440\u0432\u0435\u0440 Apache2<\/p>\n<p>\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u0443\u0435\u043c \u0444\u0430\u0439\u043b \/etc\/apache2\/envvars<\/p>\n<p>\u041f\u0440\u0430\u0432\u0438\u043c \u043f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u044b\u0435 APACHE_RUN_USER \u0438 APACHE_RUN_GROUP.<\/p>\n<p>\u0412 \u043d\u0430\u0448\u0435\u043c \u0441\u043b\u0443\u0447\u0430\u0435 \u043f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u044b\u0435 \u0434\u043e\u043b\u0436\u043d\u044b \u0432\u044b\u0433\u043b\u044f\u0434\u0435\u0442\u044c \u0442\u0430\u043a:<\/p>\n<pre class=\"lang:default decode:true\">export APACHE_RUN_USER=asterisk\r\n\r\nexport APACHE_RUN_GROUP=asterisk<\/pre>\n<p>&nbsp;<\/p>\n<p>\u0422\u0435\u043f\u0435\u0440\u044c Apache2 \u0437\u0430\u043f\u0443\u0441\u043a\u0430\u0435\u0442\u0441\u044f \u043f\u043e\u0434 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u043c Asterisk<\/p>\n<p>\u0423\u0434\u0430\u043b\u044f\u0435\u043c \u043a\u0430\u0442\u0430\u043b\u043e\u0433<\/p>\n<pre class=\"lang:default decode:true \">rm -r  \/var\/lock\/apache2<\/pre>\n<p>&nbsp;<\/p>\n<p>\u041f\u0435\u0440\u0435\u0437\u0430\u043f\u0443\u0441\u043a\u0430\u0435\u043c Apache2<\/p>\n<pre class=\"lang:default decode:true \">sudo service apache2 restart<\/pre>\n<p>&nbsp;<\/p>\n<p>\u041f\u0440\u043e\u0432\u0435\u0440\u044f\u0435\u043c \u043f\u043e\u0434 \u043a\u0430\u043a\u0438\u043c \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u043c \u0437\u0430\u043f\u0443\u0449\u0435\u043d Apache2<\/p>\n<pre class=\"lang:default decode:true \">ps aux|grep apache<\/pre>\n<p>&nbsp;<\/p>\n<p>\u0418\u0437\u043c\u0435\u043d\u044f\u0435\u043c \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 PHP<\/p>\n<p>\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u0443\u0435\u043c \u0444\u0430\u0439\u043b \/etc\/php5\/apache2\/php.ini \u0438 \u043f\u0440\u0430\u0432\u0438\u043c \u043b\u0438\u043c\u0438\u0442\u044b<\/p>\n<pre class=\"lang:default decode:true\">upload_max_filesize=100M\r\n\r\nmemory_limit = 512M<\/pre>\n<p>&nbsp;<\/p>\n<p>\u041f\u0435\u0440\u0435\u0437\u0430\u043f\u0443\u0441\u043a\u0430\u0435\u043c \u0432\u0435\u0431 \u0441\u0435\u0440\u0432\u0435\u0440 Apache 2<\/p>\n<pre class=\"lang:default decode:true \">sudo service apache2 restart<\/pre>\n<p>&nbsp;<\/p>\n<p>\u0415\u0441\u043b\u0438 \u0432 \u043d\u0430\u0448\u0435\u0439 \u0441\u0438\u0441\u0442\u0435\u043c\u0435 \u043c\u044b \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u043c \u043f\u0440\u043e\u043a\u0441\u0438 \u0441\u0435\u0440\u0432\u0435\u0440, \u0442\u043e \u0432\u044b\u043f\u043e\u043b\u043d\u044f\u0435\u043c \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0439 \u0448\u0430\u0433, \u0435\u0441\u043b\u0438 \u043d\u0435\u0442, \u0442\u043e \u043f\u0440\u043e\u043f\u0443\u0441\u043a\u0430\u0435\u043c.<\/p>\n<pre class=\"lang:default decode:true \">pear config-set http_proxy http:\/\/localhost:3128<\/pre>\n<p>&nbsp;<\/p>\n<p>\u041a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0438\u0440\u0443\u0435\u043c\u00a0 \u0431\u0430\u0437\u0443 \u0434\u0430\u043d\u043d\u044b\u0445 \u0441 \u043f\u043e\u043c\u043e\u0449\u044c\u044e Pear<\/p>\n<pre class=\"lang:default decode:true \">sudo pear install DB<\/pre>\n<p>&nbsp;<\/p>\n<p>\u0421\u043e\u0437\u0434\u0430\u0435\u043c \u043a\u0430\u0442\u0430\u043b\u043e\u0433 \u0434\u043b\u044f \u0441\u0430\u0439\u0442\u0430 FreePBX<\/p>\n<pre class=\"lang:default decode:true \">mkdir \/var\/www\/pbx<\/pre>\n<p>&nbsp;<\/p>\n<p>\u041d\u0430\u0437\u043d\u0430\u0447\u0430\u0435\u043c \u043f\u0430\u0440\u043e\u043b\u044c \u0434\u043b\u044f \u0443\u0447\u0435\u0442\u043d\u043e\u0439 \u0437\u0430\u043f\u0438\u0441\u0438 Asterisk<\/p>\n<pre class=\"lang:default decode:true \">passwd asterisk<\/pre>\n<p>&nbsp;<\/p>\n<p>\u0423\u0441\u0442\u0430\u043d\u0430\u0432\u043b\u0438\u0432\u0430\u0435\u043c FreePBX<\/p>\n<pre class=\"lang:default decode:true \">.\/install_amp<\/pre>\n<p>&nbsp;<\/p>\n<p>\u0414\u0430\u043b\u0435\u0435 \u043e\u0442\u0432\u0435\u0447\u0430\u0435\u043c \u043d\u0430 \u0432\u043e\u043f\u0440\u043e\u0441\u044b FreePBX.<\/p>\n<p>\u041d\u0443\u0436\u043d\u043e \u0431\u0443\u0434\u0435\u0442 \u0432\u0432\u0435\u0441\u0442\u0438 \u043b\u043e\u0433\u0438\u043d \u0438 \u043f\u0430\u0440\u043e\u043b\u044c \u0434\u043b\u044f \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f Asterisk<\/p>\n<p>\u041f\u0430\u0440\u043e\u043b\u044c root \u043e\u0442 Mysql<\/p>\n<p>\u0423\u043a\u0430\u0437\u0430\u0442\u044c \u043a\u0430\u0442\u0430\u043b\u043e\u0433 \u0441 \u0432\u0435\u0431\u0441\u0430\u0439\u0442\u043e\u043c FreeBPX (\/var\/www\/pbx)<\/p>\n<p>\u0412 \u0432\u043e\u043f\u0440\u043e\u0441\u0430\u0445 \u043f\u0440\u043e \u043c\u0435\u0441\u0442\u043e\u043f\u043e\u043b\u043e\u0436\u0435\u043d\u0438\u0435 \u0444\u0430\u0439\u043b\u043e\u0432 Asterisk \u043d\u0443\u0436\u043d\u043e \u0443\u043a\u0430\u0437\u044b\u0432\u0430\u0442\u044c \u0441\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u043d\u043e\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435, \u043a\u043e\u0442\u043e\u0440\u043e\u0435 \u0431\u0443\u0434\u0435\u0442 \u0443\u043a\u0430\u0437\u0430\u043d\u043e \u0432 \u0432\u043e\u043f\u0440\u043e\u0441\u0435.<\/p>\n","protected":false},"excerpt":{"rendered":"<p>\u0420\u0430\u0441\u0441\u043c\u043e\u0442\u0440\u0438\u043c \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0443\u00a0Asterisk LTS \u043d\u0430 Ubuntu.<\/p>\n","protected":false},"author":1,"featured_media":0,"comment_status":"open","ping_status":"open","sticky":false,"template":"","format":"standard","meta":[],"categories":[16],"tags":[85,86],"aioseo_notices":[],"_links":{"self":[{"href":"http:\/\/ittraveler.org\/wp-json\/wp\/v2\/posts\/387"}],"collection":[{"href":"http:\/\/ittraveler.org\/wp-json\/wp\/v2\/posts"}],"about":[{"href":"http:\/\/ittraveler.org\/wp-json\/wp\/v2\/types\/post"}],"author":[{"embeddable":true,"href":"http:\/\/ittraveler.org\/wp-json\/wp\/v2\/users\/1"}],"replies":[{"embeddable":true,"href":"http:\/\/ittraveler.org\/wp-json\/wp\/v2\/comments?post=387"}],"version-history":[{"count":14,"href":"http:\/\/ittraveler.org\/wp-json\/wp\/v2\/posts\/387\/revisions"}],"predecessor-version":[{"id":401,"href":"http:\/\/ittraveler.org\/wp-json\/wp\/v2\/posts\/387\/revisions\/401"}],"wp:attachment":[{"href":"http:\/\/ittraveler.org\/wp-json\/wp\/v2\/media?parent=387"}],"wp:term":[{"taxonomy":"category","embeddable":true,"href":"http:\/\/ittraveler.org\/wp-json\/wp\/v2\/categories?post=387"},{"taxonomy":"post_tag","embeddable":true,"href":"http:\/\/ittraveler.org\/wp-json\/wp\/v2\/tags?post=387"}],"curies":[{"name":"wp","href":"https:\/\/api.w.org\/{rel}","templated":true}]}}